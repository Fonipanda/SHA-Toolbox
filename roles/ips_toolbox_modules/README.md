ips_toolbox_modules
===============

Modules used to get information and to manage middleware and operating system

Synopsis
========

**Module name**        | **OS** | ***Comments***
---------------------- |:------:| --------
ara.py                 |![aix](https://gitlab-dogen.group.echonet/Production-mutualisee/IPS/toolbox_next_gen/toolbox_next_gen/ips_toolbox_launcher/raw/master/images/AIX.png) ![linux](https://gitlab-dogen.group.echonet/Production-mutualisee/IPS/toolbox_next_gen/toolbox_next_gen/ips_toolbox_launcher/raw/master/images/redhat.png) | *ARA management*
win_ara.ps1            |![windows](https://gitlab-dogen.group.echonet/Production-mutualisee/IPS/toolbox_next_gen/toolbox_next_gen/ips_toolbox_launcher/raw/master/images/windows.png) | *ARA management*
cft.py                 |![aix](https://gitlab-dogen.group.echonet/Production-mutualisee/IPS/toolbox_next_gen/toolbox_next_gen/ips_toolbox_launcher/raw/master/images/AIX.png) ![linux](https://gitlab-dogen.group.echonet/Production-mutualisee/IPS/toolbox_next_gen/toolbox_next_gen/ips_toolbox_launcher/raw/master/images/redhat.png) | *CFT management*
win_cft.ps1            |![windows](https://gitlab-dogen.group.echonet/Production-mutualisee/IPS/toolbox_next_gen/toolbox_next_gen/ips_toolbox_launcher/raw/master/images/windows.png) | *CFT management*
etac.py                |![aix](https://gitlab-dogen.group.echonet/Production-mutualisee/IPS/toolbox_next_gen/toolbox_next_gen/ips_toolbox_launcher/raw/master/images/AIX.png) ![linux](https://gitlab-dogen.group.echonet/Production-mutualisee/IPS/toolbox_next_gen/toolbox_next_gen/ips_toolbox_launcher/raw/master/images/redhat.png) | *Etac management*
mcafee.py              |![aix](https://gitlab-dogen.group.echonet/Production-mutualisee/IPS/toolbox_next_gen/toolbox_next_gen/ips_toolbox_launcher/raw/master/images/AIX.png) ![linux](https://gitlab-dogen.group.echonet/Production-mutualisee/IPS/toolbox_next_gen/toolbox_next_gen/ips_toolbox_launcher/raw/master/images/redhat.png) | *McAfee management*
illumio.py              |![aix](https://gitlab-dogen.group.echonet/Production-mutualisee/IPS/toolbox_next_gen/toolbox_next_gen/ips_toolbox_launcher/raw/master/images/AIX.png) ![linux](https://gitlab-dogen.group.echonet/Production-mutualisee/IPS/toolbox_next_gen/toolbox_next_gen/ips_toolbox_launcher/raw/master/images/redhat.png) | *Illumio management*
win_mcafee.ps1         |![windows](https://gitlab-dogen.group.echonet/Production-mutualisee/IPS/toolbox_next_gen/toolbox_next_gen/ips_toolbox_launcher/raw/master/images/windows.png) | *McAfee management*
testPort.py            |![aix](https://gitlab-dogen.group.echonet/Production-mutualisee/IPS/toolbox_next_gen/toolbox_next_gen/ips_toolbox_launcher/raw/master/images/AIX.png) ![linux](https://gitlab-dogen.group.echonet/Production-mutualisee/IPS/toolbox_next_gen/toolbox_next_gen/ips_toolbox_launcher/raw/master/images/redhat.png) | *check port connectivity*
win_testPort.ps1       |![windows](https://gitlab-dogen.group.echonet/Production-mutualisee/IPS/toolbox_next_gen/toolbox_next_gen/ips_toolbox_launcher/raw/master/images/windows.png) | *check port connectivity*
oracle_backup.py       |![aix](https://gitlab-dogen.group.echonet/Production-mutualisee/IPS/toolbox_next_gen/toolbox_next_gen/ips_toolbox_launcher/raw/master/images/AIX.png) ![linux](https://gitlab-dogen.group.echonet/Production-mutualisee/IPS/toolbox_next_gen/toolbox_next_gen/ips_toolbox_launcher/raw/master/images/redhat.png) | *Oracle backup/archive (TSM) management*
oracle_oem.py          |![aix](https://gitlab-dogen.group.echonet/Production-mutualisee/IPS/toolbox_next_gen/toolbox_next_gen/ips_toolbox_launcher/raw/master/images/AIX.png) ![linux](https://gitlab-dogen.group.echonet/Production-mutualisee/IPS/toolbox_next_gen/toolbox_next_gen/ips_toolbox_launcher/raw/master/images/redhat.png) | *Oracle oem supervision management*
oracle_tablespace.py   |![aix](https://gitlab-dogen.group.echonet/Production-mutualisee/IPS/toolbox_next_gen/toolbox_next_gen/ips_toolbox_launcher/raw/master/images/AIX.png) ![linux](https://gitlab-dogen.group.echonet/Production-mutualisee/IPS/toolbox_next_gen/toolbox_next_gen/ips_toolbox_launcher/raw/master/images/redhat.png) | *Oracle tablespace's management*
oracle_listener.py     |![aix](https://gitlab-dogen.group.echonet/Production-mutualisee/IPS/toolbox_next_gen/toolbox_next_gen/ips_toolbox_launcher/raw/master/images/AIX.png) ![linux](https://gitlab-dogen.group.echonet/Production-mutualisee/IPS/toolbox_next_gen/toolbox_next_gen/ips_toolbox_launcher/raw/master/images/redhat.png) | *Oracle listeners' management*
python.py              |![aix](https://gitlab-dogen.group.echonet/Production-mutualisee/IPS/toolbox_next_gen/toolbox_next_gen/ips_toolbox_launcher/raw/master/images/AIX.png) ![linux](https://gitlab-dogen.group.echonet/Production-mutualisee/IPS/toolbox_next_gen/toolbox_next_gen/ips_toolbox_launcher/raw/master/images/redhat.png) | *Python management*
vormetric.py           |![aix](https://gitlab-dogen.group.echonet/Production-mutualisee/IPS/toolbox_next_gen/toolbox_next_gen/ips_toolbox_launcher/raw/master/images/AIX.png) ![linux](https://gitlab-dogen.group.echonet/Production-mutualisee/IPS/toolbox_next_gen/toolbox_next_gen/ips_toolbox_launcher/raw/master/images/redhat.png) | *Vormetric management*
nimsoft.py             |![aix](https://gitlab-dogen.group.echonet/Production-mutualisee/IPS/toolbox_next_gen/toolbox_next_gen/ips_toolbox_launcher/raw/master/images/AIX.png) ![linux](https://gitlab-dogen.group.echonet/Production-mutualisee/IPS/toolbox_next_gen/toolbox_next_gen/ips_toolbox_launcher/raw/master/images/redhat.png) | *Nimsoft management*
win_nimsoft.ps1        |![windows](https://gitlab-dogen.group.echonet/Production-mutualisee/IPS/toolbox_next_gen/toolbox_next_gen/ips_toolbox_launcher/raw/master/images/windows.png) | *Nimsoft management*
check_systemd.py       |![aix](https://gitlab-dogen.group.echonet/Production-mutualisee/IPS/toolbox_next_gen/toolbox_next_gen/ips_toolbox_launcher/raw/master/images/AIX.png) ![linux](https://gitlab-dogen.group.echonet/Production-mutualisee/IPS/toolbox_next_gen/toolbox_next_gen/ips_toolbox_launcher/raw/master/images/redhat.png) | *Get the status of a systemd service*
toolbox.py             |![aix](https://gitlab-dogen.group.echonet/Production-mutualisee/IPS/toolbox_next_gen/toolbox_next_gen/ips_toolbox_launcher/raw/master/images/AIX.png) ![linux](https://gitlab-dogen.group.echonet/Production-mutualisee/IPS/toolbox_next_gen/toolbox_next_gen/ips_toolbox_launcher/raw/master/images/redhat.png) | *Toolbox information*
win_toolbox.ps1        |![windows](https://gitlab-dogen.group.echonet/Production-mutualisee/IPS/toolbox_next_gen/toolbox_next_gen/ips_toolbox_launcher/raw/master/images/windows.png) | *Toolbox information*
createfs.py            |![aix](https://gitlab-dogen.group.echonet/Production-mutualisee/IPS/toolbox_next_gen/toolbox_next_gen/ips_toolbox_launcher/raw/master/images/AIX.png) ![linux](https://gitlab-dogen.group.echonet/Production-mutualisee/IPS/toolbox_next_gen/toolbox_next_gen/ips_toolbox_launcher/raw/master/images/redhat.png) | *To create and guard filesystems*

ara.py
====================


**action** | ***Comments***                    
---------- | ---------------------------------- 
check      | *Check status and ARA's version*    
start      | *start ARA*                            
stop       | *stop ARA*                          

Examples

```
#Check status and ARA's version
ansible linux -m ara -a "action=check"
```
```
#Start ARA 
ansible linux -m ara -a "action=start"
```

win_ara.ps1
====================

**action** | ***Comments***                 
---------- | ----------------------------------
check      | *Check status and ARA's version*            
start      | *start ARA*                                  
stop       | *stop ARA*                                   
start      | *restart ARA*                                   

Examples

```
#Check status and ARA's version
ansible windows -m win_ara -a "action=check"
```
```
#Restart ARA 
ansible windows -m win_ara -a "action=restart"
```

cft.py
====================

**action** | ***Comments***                           | **Become** 
---------- | ---------------------------------------- |:----------:
check      | *Check installation and CFT's version*   | no              
start      | *start CFT*                              | `cft`             
stop       | *stop CFT*                               | `cft`        
status     | *give CFT's status*                      | `cft`       
list       | *list CFT's partners*                    | no         

Examples

```
#Check CFT installation and version
ansible linux -m cft -a "action=check"
```
```
#Start CFT
ansible linux -m cft -a "action=start" -b --become-method=su --become-user=cft
```
```
#List CFT's partners
ansible linux -m cft -a "action=list"
```

win_cft.ps1
====================

**action** | ***Comments***                          
---------- | ----------------------------------------
check      | *Check installation and CFT's version*           
status     | *give CFT's status*                         
list       | *list CFT's partners*                    

Examples

```
#Check CFT installation and version
ansible windows -m win_cft -a "action=check"
```
```
#List CFT's partners
ansible windows -m win_cft -a "action=list"
```

testPort.py
====================

**Parameter** | ***Comments***                                                           | **Sub-parameters**  | **Mandatory** |  ***Sub-parameters Comments***
------------- | ------------------------------------------------------------------------ | ------------------- |:-------------:| ------------------------------
destination   | *server to check port (several server separated by ',')*                 | - port              | - No          | *port to ckeck (list separated by ',' and range by '-')/`80` by default*


Examples

```
#test port 80 on srv1 from target
ansible target -m testPort -a "destination=srv1"
```
```
#test port 80 on srv1 and srv2 from target
ansible target -m testPort -a "destination=srv1,srv2 port=22"
```
```
#test port 443 and 139 on srv1 and srv2 from target
ansible target -m testPort -a "destination=srv1,srv2 port=443,139"
```
```
#test port from 22 to 25 on srv1 and srv2 from target
ansible target -m testPort -a "destination=srv1,srv2 port=22-25"
```

win_testPort.ps1
====================

**Parameter** | ***Comments***                                                           | **Sub-parameters**  | **Mandatory** |  ***Sub-parameters Comments***
------------- | ------------------------------------------------------------------------ | ------------------- |:-------------:| ------------------------------
destination   | *server to check port (several server separated by ',')*                 | - port              | - No          | *port to ckeck (list separated by ',' and range by '-')/`80` by default*

Examples

```
#test port 80 on srv1 from target
ansible target -m win_testPort -a "destination=srv1"
```
```
#test port 80 on srv1 and srv2 from target
ansible target -m win_testPort -a "destination=srv1,srv2 port=22"
```
```
#test port 443 and 139 on srv1 and srv2 from target
ansible target -m win_testPort -a "destination=srv1,srv2 port=443,139"
```
```
#test port from 22 to 25 on srv1 and srv2 from target
ansible target -m win_testPort -a "destination=srv1,srv2 port=22-25"
```

etac.py
====================

**action** | ***Comments***                     
---------- | ----------------------------------
check      | *Check installation and version*               
status     | *Give Etac's status*            

Examples

```
#Check Etac installation and version
ansible linux -m etac -a "action=check"
```

mcafee.py
====================

**action** | ***Comments***                    
---------- | ---------------------------------- 
check      | *Check installation and version*            
status     | *Give McAfee's status*           

Examples

```
#Check McAfee installation and version
ansible linux -m mcafee -a "action=check"
```

win_mcafee.ps1
====================

**action** | ***Comments***                    
---------- | ---------------------------------- 
check      | *Check installation and version*  
check-dat  | *Give DAT information*           
status     | *Give McAfee's status*         

Examples

```
#Get McAfee DAT information
ansible windows -m win_mcafee -a "action=check-dat"
```

oracle_backup.py
====================

**action**     | ***Comments***                            |  **Sub-parameters**                         | **Mandatory**          |  ***Sub-parameters Comments***
-------------- | ----------------------------------------- | ------------------------------------------- |:----------------------:| ------------------------------
tsm-backup     | *Send backupsets on TSM (archive/backup)* | - instanceName<br>- retention <br>- keyword | - No<br>- No<br>- No   | *- Name of the instance to send backupsets<br>- TSM retention for archive in days, or BKP to perform TSM backup<br>- InstanceName + retention*         
configure      | *Edit bt_sauvegarde.conf file*            | - instanceName<br>- retention               | - `Yes`<br>- `Yes`     | *- Name of the instance to configure backup<br>- TSM retention for archive in days, or BKP to perform TSM backup*


Examples

```
#Send all oracle backupsets according to ENVOI_TSM.in/ENVOI_TSM.out
ansible linux -m oracle_backup -a "action=tsm-backup"
```
```
#Send every retention of P12345AP10's backupsets on TSM according to ENVOI_TSM.in/ENVOI_TSM.out
ansible linux -m oracle_backup -a "action=tsm-backup instanceName=P12345AP10"
```
```
#Send P12345AP10's backupsets with retention 90J on TSM according to ENVOI_TSM.in/ENVOI_TSM.out
ansible linux -m oracle_backup -a "action=tsm-backup instanceName=P12345AP10 retention=90"
```
```
#Send backupsets with keyword P12345AP10_BKP on TSM according to ENVOI_TSM.in/ENVOI_TSM.out
ansible linux -m oracle_backup -a "action=tsm-backup keyword=P12345AP10_BKP"
```
```
#Configure bt_sauvegarde.conf file to allow RMAN backup of P12345AP10 with retention of 30 days on TSM
ansible linux -m oracle_backup -a "action=configure instanceName=P12345AP10 retention=30"
```
```
#Configure bt_sauvegarde.conf file to allow RAMN backup of P12345AP10 and backup backupsets on TSM
ansible linux -m oracle_backup -a "action=configure instanceName=P12345AP10 retention=BKP"
```

oracle_oem.py
====================

**action** | ***Comments***                                       | **Become** | **Sub-parameters** | **Mandatory** |  ***Sub-parameters Comments***
---------- | ---------------------------------------------------- |:----------:| ------------------ |:-------------:| ------------------------------
start      | *Start blackout of the instance(stop supervision)*   | `oracle`   | - instanceName     | `Yes`         | *Name of the supervised instance*         
stop       | *Stop blackout of the instance(start supervision)*   | `oracle`   | - instanceName     | `Yes`         | *Name of the instance not supervised*
status     | *Status blackout of the instance(start supervision)* | `oracle`   | - instanceName     | `Yes`         | *Name of the supervised (or not) instance*


Examples

```
##start blackout of P12345AP10
ansible linux -m oracle_oem -a "action=start instanceName=P12345AP10" -b --become-method=su --become-user=oracle
```

oracle_tablespace.py
====================

**action** | ***Comments***                                               | **Become** | **Sub-parameters**                                 | **Mandatory**                 |  ***Sub-parameters Comments***
---------- | ------------------------------------------------------------ |:----------:| -------------------------------------------------- |:-----------------------------:| ------------------------------
get        | *Get information of tablespaces*                             | `oracle`   | - instanceName<br>- tablespaceName                 | - `Yes`<br>- No               | *- Name of the instance (owner of tablespaces)<br>- Name of the tablespace*         
create     | *Create a permanent tablespace*                              | `oracle`   | - instanceName<br>- tablespaceName                 | - `Yes`<br>- `Yes`            | *- Name of the instance (owner of tablespaces)<br>- Name of the tablespace*
add        | *add a datafile/tempfile*                                    | `oracle`   | - instanceName<br>- tablespaceName                 | - `Yes`<br>- `Yes`            | *- Name of the instance (owner of tablespaces)<br>- Name of the tablespace*
extend     | *Extend all datafiles of the specified tablespace*           | `oracle`   | - instanceName<br>- tablespaceName<br>- dtfMaxSize | - `Yes`<br>- `Yes`<br>- No    | *- Name of the instance (owner of tablespaces)<br>- Name of the tablespace<br>- Maxsize of tablespace's datafiles in Mo (only for non permanent tablespaces)<br>(AUTOEXTEND ON MAXSIZE UNLIMITED for permanent tablespaces)*
size       | *Change maxsize of the tablespace and add file if necessary* | `oracle`   | - instanceName<br>- tablespaceName<br>- tbsMaxSize | - `Yes`<br>- `Yes`<br>- `Yes` | *- Name of the instance (owner of tablespaces)<br>- Name of the tablespace<br>- Maxsize of the specified tablespace in Mo<br>automatically resized to upper multiple of 32G for permanent tablespaces*

Examples

```
###get information on all P12345AP10's tablespaces
ansible linux -m oracle_tablespace -a "action=get instanceName=P12345AP10" -b --become-method=su --become-user=oracle
```
```
###add a datafile to tablespace TBX_12345 in P12345AP10
ansible linux -m oracle_tablespace -a "action=add instanceName=P12345AP10 tablespaceName=TBX_12345" -b --become-method=su --become-user=oracle
```
```
###change maxsize of tablespace TBX_12345 in P12345AP10 to 48G
ansible linux -m oracle_tablespace -a "action=size instanceName=P12345AP10 tablespaceName=TBX_12345 tbsMaxSize=49152" -b --become-method=su --become-user=oracle
```

oracle_listener.py
====================

**action** | ***Comments***                    
---------- | ---------------------------------- 
status     | *Give status of configured listeners*

Examples

```
###give informations of listeners configured in /apps/oracle/adm/network/listener.ora
ansible linux -m oracle_listener -a "action=status"
```

python.py
====================

**action** | ***Comments***                                
---------- | ---------------------------------------------
check      | *Give versions of python installed on server*

Examples

```
#Check python's versions
ansible linux -m python -a "action=check"
```

vormetric.py
====================

**action** | ***Comments***                              
---------- | --------------------------------------------
check      | *Check installation and vormetric's version*           
status     | *give vormetric's status*                        
list       | *list guarpoints*                             

Examples

```
#Check vormetric installation and version
ansible linux -m vormetric -a "action=check"
```
```
#List guardpoints
ansible linux -m vormetric -a "action=list"
```

nimsoft.py
====================

**action**  | ***Comments***                          | **Sub-parameters** | **Mandatory** |  ***Sub-parameters Comments***
----------- | --------------------------------------- |------------------- |:-------------:| ------------------------------
check       | *Check installation and nimsoft status* |                    |               | 
get         | *get current policies*                  |                    |               | 
get_profile | *get current profiles*                  |                    |               |
add         | *add policies*                          | - policy           | - `Yes`       | *Policies to add (several policies separated by ',')*
remove      | *remove policies*                       | - policy           | - `Yes`       | *Policies to remove (several policies separated by ',')*
start       | *start agent*                           |                    |               | 
stop        | *stop agent*                            |                    |               | 
restart     | *restart agent*                         |                    |               | 
upgrade     | *Upgrade nimsoft probes and scripts*    |                    |               |


Examples

```
#Check nimsoft installation and status
ansible linux -m nimsoft -a "action=check"
```
```
#add policies policy1, policy2
ansible linux -m nimsoft -a "action=add policy=policy1,policy2"
```

win_nimsoft.py
====================

**action** | ***Comments***                          | **Sub-parameters** | **Mandatory** |  ***Sub-parameters Comments***
---------- | --------------------------------------- |------------------- |:-------------:| ------------------------------
check      | *Check installation and nimsoft status* |                    |               | 
get        | *get current policies*                  |                    |               | 
add        | *add policies*                          | - policy           | - `Yes`       | *Policies to add (several policies separated by ',')*
remove     | *remove policies*                       | - policy           | - `Yes`       | *Policies to remove (several policies separated by ',')*
start      | *start agent*                           |                    |               | 
stop       | *stop agent*                            |                    |               | 
restart    | *restart agent*                         |                    |               | 

Examples

```
#Check nimsoft installation and status
ansible windows -m win_nimsoft -a "action=check"
```
```
#add policies policy1
ansible windows -m win_nimsoft -a "action=add policy=policy1"
```

check_systemd.py
====================

**action** | ***Comments***                     | **Sub-parameters** | **Mandatory** |  ***Sub-parameters Comments***
---------- | ---------------------------------- | ------------------ |:-------------:| ------------------------------
status     | *Give status of a systemd service* | - service          | - `Yes`       | *Service name*

Examples

```
#Check nimsoft installation and status
ansible linux -m nimsoft -a "action=check"
```
```
#add policies policy1, policy2
ansible linux -m nimsoft -a "action=add policy=policy1,policy2"
```

illumio.py
====================

**action** | ***Comments***
---------- | ----------------------------------
check      | *Check installation and Illumio's version*

Examples

```
#Check Illumio's version
ansible linux -m illumio -a "action=check"
```

toolbox.py
====================

**action** | ***Comments***                                         | **Sub-parameters** | **Mandatory** |  ***Sub-parameters Comments***
---------- | ------------------------------------------------------ | ------------------ |:-------------:| ------------------------------
check      | *Check installation of toolboxes and give the version* |                    |               | 
compare    | *Compare with the installed version*                   | - version          | - `Yes`       | *Version to be compared*

Examples

```
#Check toolbox installation and version
ansible linux -m toolbox -a "action=check"
```
```
#Check if installed version is greater or not to version 19.1.0
ansible linux -m toolbox -a "action=compare version=19.1.0"
```

win_toolbox.py
====================

**action** | ***Comments***                                         | **Sub-parameters** | **Mandatory** |  ***Sub-parameters Comments***
---------- | ------------------------------------------------------ | ------------------ |:-------------:| ------------------------------
check      | *Check installation of toolboxes and give the version* |                    |               | 
compare    | *Compare with the installed version*                   | - version          | - `Yes`       | *Version to be compared*

Examples

```
#Check toolbox installation and version
ansible windows -m toolbox -a "action=check"
```
```
#Check if installed version is greater or not to version 19.1.0
ansible windows -m toolbox -a "action=compare version=19.1.0"
```

createfs.py
====================

**Parameter** | ***Comments***                                                  
------------- | --------------------------------------------------------------- 
file          | *The configuration file with absolute path (on remote server)*

Examples

```
#Create filsystems according to /apps/toolboxes/exploit/conf/create-fs.conf file
ansible linux -m createfs -a "file=/apps/toolboxes/exploit/conf/create-fs.conf"
```

